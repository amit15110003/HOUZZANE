!function($,window,document,undefined){var supported=!1;$.imp_editor_storage_get_saves_list=function(cb){if(localStorage.editor_saves){for(var saves=JSON.parse(localStorage.editor_saves),list=new Array,i=0;i<saves.length;i++)list.push({id:saves[i].id,meta:{name:saves[i].general.name}});cb(list)}else cb(new Array)},$.imp_editor_storage_get_save=function(id,cb){if(!localStorage.editor_saves)return!1;for(var saves=JSON.parse(localStorage.editor_saves),i=0;i<saves.length;i++)saves[i].id==id&&cb(saves[i])},$.imp_editor_storage_store_save=function(save,cb){localStorage.editor_saves||(localStorage.editor_saves="[]");for(var currentSaves=JSON.parse(localStorage.editor_saves),updated=!1,i=0;i<currentSaves.length;i++)currentSaves[i].id==save.id&&(updated=!0,currentSaves[i]=save);updated||currentSaves.push(save),localStorage.editor_saves=JSON.stringify(currentSaves),cb()},$.imp_editor_storage_delete_save=function(id,cb){localStorage.editor_saves||(localStorage.editor_saves="[]");for(var currentSaves=JSON.parse(localStorage.editor_saves),index=0,i=0;i<currentSaves.length;i++)if(currentSaves[i].id==id){index=i;break}currentSaves.splice(index,1),localStorage.editor_saves=JSON.stringify(currentSaves),cb()},$.imp_editor_storage_get_last_save=function(cb){cb(localStorage.editor_last_save?localStorage.editor_last_save:!1)},$.imp_editor_storage_set_last_save=function(id,cb){localStorage.editor_last_save=id,cb()},$(document).ready(function(){try{var storage=window.localStorage,x="__storage_test__";storage.setItem(x,x),storage.removeItem(x),supported=!0}catch(e){console.log("Local storage is NOT supported!"),supported=!1}})}(jQuery,window,document);