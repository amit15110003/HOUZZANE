!function($,window,document,undefined){function hexToRgb(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:null}$.image_map_pro_editor_content=function(){var settings=$.image_map_pro_editor_current_settings(),html="";html+='<img id="imp-editor-image" src="'+settings.general.image_url+'">',html+='<div id="imp-editor-shapes-container">';for(var i=0;i<settings.spots.length;i++){var s=settings.spots[i];if("spot"==s.type)if(1==parseInt(s.default_style.use_icon,10)){var style="";style+="left: "+s.x+"%;",style+="top: "+s.y+"%;",style+="width: "+s.width+"px;",style+="height: "+s.height+"px;",style+="margin-left: -"+s.width/2+"px;",style+="margin-top: -"+s.height/2+"px;",style+="background-image: url("+s.default_style.icon_url+")",style+="background-position: center;",style+="background-repeat: no-repeat;";var iconStyle="";if(1==parseInt(s.default_style.icon_is_pin,10)&&(iconStyle+="top: -50%;",iconStyle+="position: absolute;"),html+='<div class="imp-editor-shape imp-editor-spot" data-id="'+s.id+'" style="'+style+'"><div class="imp-selection" style="border-radius: '+s.default_style.border_radius+'px;"></div>',"library"==s.default_style.icon_type?(html+='   <svg style="'+iconStyle+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="'+s.default_style.icon_svg_viewbox+'" xml:space="preserve" width="'+s.width+'px" height="'+s.height+'px">',html+='       <path style="fill:'+s.default_style.icon_fill+'" d="'+s.default_style.icon_svg_path+'"></path>',html+="   </svg>"):s.default_style.icon_url.length>0&&(html+='<img style="'+iconStyle+'" src="'+s.default_style.icon_url+'">'),1==parseInt(s.default_style.icon_shadow,10)){var shadowStyle="";shadowStyle+="width: "+s.width+"px;",shadowStyle+="height: "+s.height+"px;",0==parseInt(s.default_style.icon_is_pin,10)&&(shadowStyle+="top: "+s.height/2+"px;"),html+='<div style="'+shadowStyle+'" class="imp-editor-shape-icon-shadow"></div>'}html+="</div>"}else{var c_bg=hexToRgb(s.default_style.background_color),c_bo=hexToRgb(s.default_style.border_color),style="";style+="left: "+s.x+"%;",style+="top: "+s.y+"%;",style+="width: "+s.width+"px;",style+="height: "+s.height+"px;",style+="margin-left: -"+s.width/2+"px;",style+="margin-top: -"+s.height/2+"px;",style+="background: rgba("+c_bg.r+", "+c_bg.g+", "+c_bg.b+", "+s.default_style.background_opacity+");",style+="border-color: rgba("+c_bo.r+", "+c_bo.g+", "+c_bo.b+", "+s.default_style.border_opacity+");",style+="border-width: "+s.default_style.border_width+"px;",style+="border-style: "+s.default_style.border_style+";",style+="border-radius: "+s.default_style.border_radius+"px;",html+='<div class="imp-editor-shape imp-editor-spot" data-id="'+s.id+'" style="'+style+'"><div class="imp-selection" style="border-radius: '+s.default_style.border_radius+'px;"></div></div>'}if("rect"==s.type){var c_bg=hexToRgb(s.default_style.background_color),c_bo=hexToRgb(s.default_style.border_color),style="";style+="left: "+s.x+"%;",style+="top: "+s.y+"%;",style+="width: "+s.width+"%;",style+="height: "+s.height+"%;",style+="background: rgba("+c_bg.r+", "+c_bg.g+", "+c_bg.b+", "+s.default_style.background_opacity+");",style+="border-color: rgba("+c_bo.r+", "+c_bo.g+", "+c_bo.b+", "+s.default_style.border_opacity+");",style+="border-width: "+s.default_style.border_width+"px;",style+="border-style: "+s.default_style.border_style+";",style+="border-radius: "+s.default_style.border_radius+"px;",html+='<div class="imp-editor-shape imp-editor-rect" data-id="'+s.id+'" style="'+style+'">',html+='   <div class="imp-selection" style="border-radius: '+s.default_style.border_radius+'px;">',html+='       <div class="imp-selection-translate-boxes">',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-1" data-transform-direction="1"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-2" data-transform-direction="2"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-3" data-transform-direction="3"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-4" data-transform-direction="4"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-5" data-transform-direction="5"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-6" data-transform-direction="6"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-7" data-transform-direction="7"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-8" data-transform-direction="8"></div>',html+="       </div>",html+="   </div>",html+="</div>"}if("oval"==s.type){var c_bg=hexToRgb(s.default_style.background_color),c_bo=hexToRgb(s.default_style.border_color),style="";style+="left: "+s.x+"%;",style+="top: "+s.y+"%;",style+="width: "+s.width+"%;",style+="height: "+s.height+"%;",style+="background: rgba("+c_bg.r+", "+c_bg.g+", "+c_bg.b+", "+s.default_style.background_opacity+");",style+="border-color: rgba("+c_bo.r+", "+c_bo.g+", "+c_bo.b+", "+s.default_style.border_opacity+");",style+="border-width: "+s.default_style.border_width+"px;",style+="border-style: "+s.default_style.border_style+";",style+="border-radius: 100% 100%;",html+='<div class="imp-editor-shape imp-editor-oval" data-id="'+s.id+'" style="'+style+'">',html+='   <div class="imp-selection" style="border-radius: 100% 100%;">',html+='       <div class="imp-selection-translate-boxes">',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-1" data-transform-direction="1"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-2" data-transform-direction="2"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-3" data-transform-direction="3"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-4" data-transform-direction="4"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-5" data-transform-direction="5"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-6" data-transform-direction="6"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-7" data-transform-direction="7"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-8" data-transform-direction="8"></div>',html+="       </div>",html+="   </div>",html+="</div>"}if("poly"==s.type&&s.points){var c_fill=hexToRgb(s.default_style.fill),c_stroke=hexToRgb(s.default_style.stroke_color),style="";style+="left: "+s.x+"%;",style+="top: "+s.y+"%;",style+="width: "+s.width+"%;",style+="height: "+s.height+"%;";var svgStyle="";svgStyle+="width: 100%;",svgStyle+="height: 100%;",svgStyle+="fill: rgba("+c_fill.r+", "+c_fill.g+", "+c_fill.b+", "+s.default_style.fill_opacity+");",svgStyle+="stroke: rgba("+c_stroke.r+", "+c_stroke.g+", "+c_stroke.b+", "+s.default_style.stroke_opacity+");",svgStyle+="stroke-width: "+s.default_style.stroke_width+"px;",svgStyle+="stroke-dasharray: "+s.default_style.stroke_dasharray+";",svgStyle+="stroke-linecap: "+s.default_style.stroke_linecap+";",html+='<div class="imp-editor-shape imp-editor-poly" data-id="'+s.id+'" style="'+style+'">',html+='   <div class="imp-editor-poly-svg-temp-control-point"></div>';var shapeWidthPx=settings.general.width*(s.width/100),shapeHeightPx=settings.general.height*(s.height/100);html+='   <div class="imp-editor-svg-wrap" style="padding: '+s.default_style.stroke_width+"px; left: -"+s.default_style.stroke_width+"px; top: -"+s.default_style.stroke_width+'px;">',html+='       <svg class="imp-editor-poly-svg" viewBox="0 0 '+shapeWidthPx+" "+shapeHeightPx+'" preserveAspectRatio="none" style="'+svgStyle+'">',html+='           <polygon points="';for(var j=0;j<s.points.length;j++){var x=s.default_style.stroke_width+s.points[j].x/100*(shapeWidthPx-2*s.default_style.stroke_width),y=s.default_style.stroke_width+s.points[j].y/100*(shapeHeightPx-2*s.default_style.stroke_width);html+=x+","+y+" "}html+='           "></polygon>',html+="       </svg>",html+="   </div>",html+='       <svg class="imp-editor-shape-poly-svg-overlay" viewBox="0 0 '+shapeWidthPx+" "+shapeHeightPx+'" preserveAspectRatio="none">',html+='           <polygon points="';for(var j=0;j<s.points.length;j++){var x=s.points[j].x/100*shapeWidthPx,y=s.points[j].y/100*shapeHeightPx;html+=x+","+y+" "}html+='           "></polygon>',html+="       </svg>",html+='   <div class="imp-selection imp-expanded-selection">',html+='       <div class="imp-selection-translate-boxes">',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-1" data-transform-direction="1"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-2" data-transform-direction="2"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-3" data-transform-direction="3"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-4" data-transform-direction="4"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-5" data-transform-direction="5"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-6" data-transform-direction="6"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-7" data-transform-direction="7"></div>',html+='           <div class="imp-selection-translate-box imp-selection-translate-box-8" data-transform-direction="8"></div>',html+="       </div>",html+="   </div>";for(var j=0;j<s.points.length;j++)html+='       <div class="imp-poly-control-point" data-index="'+j+'" style="left: '+s.points[j].x+"%; top: "+s.points[j].y+'%;"></div>';html+="</div>"}}return html+="</div>"}}(jQuery,window,document);